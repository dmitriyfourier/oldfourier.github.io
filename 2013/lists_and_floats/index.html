<!DOCTYPE html>
<html class="no-js" lang="ru">
<head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">

    
    <title>Списки и картинки с флоатами</title>
    <meta name="description" content="Как улучшить обтекание списков картинками.">
    <meta name="keywords" content="Paul Radzkov, web-developer, blog, html, css">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    
    <meta name="generator" content="DocPad v6.79.4">

    
    <link rel="stylesheet" href="/ui/default.css">
    

    
    
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=A0RJW2vMdo">
    <link rel="icon" type="image/png" href="/favicon-32x32.png?v=A0RJW2vMdo" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png?v=A0RJW2vMdo" sizes="16x16">
    <link rel="manifest" href="/manifest.json?v=A0RJW2vMdo">
    <link rel="shortcut icon" href="/favicon.ico?v=A0RJW2vMdo">
    <meta name="theme-color" content="#ffffff">

    
    <link rel="alternate" type="application/atom+xml" title="Atom" href="/atom.xml">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml">
    <link rel="canonical" href="https://furye.ru/2013/lists_and_floats/">
    <meta property="fb:pages" content="297287297277384">

    <meta property="og:title" content="Списки и картинки с флоатами">
<meta property="og:description" content="Как улучшить обтекание списков картинками.">

    <meta property="og:image" content="http://dmitriyfourier.github.io/i/og/og-paulradzkov-2013-lists_and_floats.png">


    <meta property="og:type" content="article">
    <meta property="og:article:published_time" content="Thu Jan 24 2013 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">
    
    <meta property="og:article:author" content="Павел Радьков">
    
    
    <meta property="og:article:tag" content="css, typography, css, typography">
    

<meta property="og:locale" content="ru_RU">

    <meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@paul_radzkov">
<meta name="twitter:title" content="Списки и картинки с флоатами">
<meta name="twitter:description" content="Как улучшить обтекание списков картинками.">

<meta name="twitter:image" content="http://dmitriyfourier.github.io/i/og/og-paulradzkov-2013-lists_and_floats.png">


    
<script>!function(e,a,n,t,g,c,i){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(n),i=a.getElementsByTagName(n)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-29416794-1","auto"),ga("require","linkid"),ga("send","pageview")</script>


</head>
<body class="allpage allpage-max-width allpage-stickyfooter layout-article" id="top">
    <header class="allpage--header page-header">
        <div class="article-nav">
            <nav class="read-siblings">
                <div class="navlinks">
  <a href="/2012/pointer-events/" title="Previous Post: Pointer-events" class="navlinks-prev">&laquo; Pointer-events</a>
  <a href="/2014/negation_css_selector/" title="Next Post: CSS-селектор :not. Полезные примеры" class="navlinks-next">CSS-селектор :not. Полезные примеры &raquo;</a>
</div>
            </nav>
            <nav class="site-navigation sticky-nav" id="sticker">
                <div class="nav-icon nav-icon-centered">
                    <a class="nav-icon-home" href="/" data-toggle="tooltip" data-placement="right" title="На главную">
                        <svg id="ic-arrow-back-24px" viewBox="0 0 24 24" width="24" height="24">
                            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                        </svg>
                        <span class="visuallyhidden">На главную</span>
                    </a>
                    <a class="nav-icon-top" href="#top" data-toggle="tooltip" data-placement="right" title="Наверх">
                        <svg id="ic-arrow-upward-24px" viewBox="0 0 24 24" width="24" height="24">
                            <path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/>
                        </svg>
                        <span class="visuallyhidden">Наверх</span>
                    </a>
                </div>
            </nav>
        </div>
        <aside class="nav-placeholder content-width">
            <div class="article-meta">
            
                <p class="date"><time datetime="Thu Jan 24 2013 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">24 января 2013</time></p>
            
            </div>
        </aside>
        <div class="content-width">
            <h1 class="article-title">Списки и картинки с флоатами</h1>
        </div>
        <div class="likely-container content-width">
    
    <div class="likely likely-big" data-url="https://furye.ru/2013/lists_and_floats/">
    
        <div class="facebook" tabindex="0" role="link" aria-label="Поделиться в Фейсбуке"></div>
        <div class="twitter" tabindex="0" role="link" aria-label="Поделиться в Твиттере" data-via="paul_radzkov"></div>
        <div class="vkontakte" tabindex="0" role="link" aria-label="Поделиться в Контакте"></div>
        <div class="telegram" tabindex="0" role="link" aria-label="Поделиться в Телеграме"></div>
    </div>
</div>

    </header>
    <aside class="content-width" style="display:none">
        <div class="article-meta inlined">
            
            <span class="comments"><a href="#disqus_thread" data-disqus-identifier="lists-and-floats">Комментарии</a></span>
            
            <span class="pageviews" style="display:none"></span>
        </div>
    </aside>
    
    <article class="allpage--body nav-placeholder content-width" role="main">
        <p><strong>Обновлено 12 декабря 2015. Спустя три года после написания этого поста в голову пришло более простое и стабильное решение.</strong></p>

<p>Для дефолтных браузерных стилей характерно такое поведение: если картинка обтекает список слева, маркеры списка налазят на картинку. От этого можно избавиться незначительно переписав стили. </p>



<p><a href="https://codepen.io/paulradzkov/full/PmQMby/" class="link-to-demo" target="_blank" rel="noopener">демка</a></p>
<figure>
    <img src="/2013/lists_and_floats/floated_images_and_lists_problem.png" width="800" height="560" alt="Если картинка обтекает список, маркеры списка налазят на картинку">
    <figcaption>Проблема: если картинка обтекает список, то маркеры списка налазят на картинку</figcaption>
</figure>

<p><a data-toggle="collapse" data-target="#oldSolution" aria-expanded="false" aria-controls="oldSolution">Старое решение</a></p>

<div id="oldSolution" class="collapse">

<p>Эту проблему можно решить, но придется переписать все отступы для тегов <code class="hljs-tag">ul</code>, <code class="hljs-tag">ol</code> и <code class="hljs-tag">li</code>. Так как <code class="hljs-tag nobr">ul > li</code> могут использоваться не только для текста с маркерами, но и для менюшек, слайдеров, списков новостей и других семантических конструкций, задавать стили напрямую тегам <code class="hljs-tag">ol</code>, <code class="hljs-tag">ul</code> и <code class="hljs-tag">li</code> опасно. Иначе в дальнейшем придется слишком часто эти стили обнулять. Поэтому создадим отдельный класс <code class="hljs-class">.textlist</code>, чтобы ставить его на наши <code class="hljs-tag">ul</code> и <code class="hljs-tag">ol</code>.</p>

<pre class="highlight"><code class="hljs css"><span class="hljs-selector-class">.textlist</span> {
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
}
<span class="hljs-selector-class">.textlist</span> &gt; <span class="hljs-selector-tag">li</span> {
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">2em</span>;
    <span class="hljs-attribute">list-style-position</span>: inside;
    <span class="hljs-attribute">text-indent</span>:-<span class="hljs-number">1em</span>;
    <span class="hljs-attribute">overflow</span>: hidden;
}
</code></pre>

<p><code class="hljs-rule"><span class="hljs-attribute">overflow</span>: <span class="hljs-value">hidden</span></code>  тут нам нужен для того, чтобы запретить тексту обтекание картинки по строкам внутри <code class="hljs-tag">li</code>. Теперь каждая <code class="hljs-tag">li</code> обтекает картинку как прямоугольный блок.</p>

<p><code class="hljs-rule"><span class="hljs-attribute">list-style-position</span>: <span class="hljs-value">inside</span></code>  чтобы втянуть маркер списка внутрь блока.</p>

<p>А всё остальное, чтобы отступы выглядели как раньше.</p>

<figure>
    <img src="/2013/lists_and_floats/floated_images_and_lists_solution.png" width="800" height="580" alt="Маркеры списка не налазят на картинку">
    <figcaption>Маркеры списка больше не налазят на картинку</figcaption>
</figure>

<hr>

</div>

<h2>Новое решение</h2>

<p><strong>Обновлено 11 июня 2017. Пофикшен баг с наплывом маркеров на картинку при первой загрузке или когда выключен кэш.</strong></p>

<p>Для списков, у которых нет классов, перенесём дефолтный отступ 2.5em с левого края на правый, а сами <code class="hljs-tag nowrap">li</code> сдвинем на те же 2.5em вправо при помощи <code class="hljs-rule"><span class="hljs-attribute">transform</span>: <span class="hljs-value">translateX(2.5em)</span></code>.</p>

<pre class="highlight"><code class="hljs css"><span class="hljs-selector-tag">ul</span><span class="hljs-selector-pseudo">:not(</span><span class="hljs-selector-attr">[class]</span>),
<span class="hljs-selector-tag">ol</span><span class="hljs-selector-pseudo">:not(</span><span class="hljs-selector-attr">[class]</span>) {
    <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">padding-right</span>: <span class="hljs-number">2.5em</span>;
}
<span class="hljs-selector-tag">ul</span><span class="hljs-selector-pseudo">:not(</span><span class="hljs-selector-attr">[class]</span>) <span class="hljs-selector-tag">li</span>,
<span class="hljs-selector-tag">ol</span><span class="hljs-selector-pseudo">:not(</span><span class="hljs-selector-attr">[class]</span>) <span class="hljs-selector-tag">li</span> {
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(<span class="hljs-number">2.5em</span>);
    <span class="hljs-attribute">animation</span>: fixlists <span class="hljs-number">1s</span>;
}

<span class="hljs-keyword">@keyframes</span> fixlists {
    0% {
        <span class="hljs-attribute">text-indent</span>: -<span class="hljs-number">0.001em</span>;
    }
    100% {
        <span class="hljs-attribute">text-indent</span>: <span class="hljs-number">0</span>;
    }
}
</code></pre>

<p>Списки, не имеющие класса, мы выбираем, чтобы не повредить меню, слайдеры и прочие конструкции, которые используют <code class="hljs-tag nowrap">ul li</code> в своей структуре. Подробнее про это в посте <a href="/2014/negation_css_selector/">про селектор :not()</a>.</p>

<p>В отличие от старого решения, элементы списка обтекают картинку естественным образом, не оставляя зазоров под картинкой.</p>

<p>Чтобы починить <a href="https://github.com/paulradzkov/bettertext.css/issues/4" target="_blank" rel="noopener">баг</a> в Хроме, Опере и других браузерах на движке Blink, пришлось добавить невидимую анимацию. Она заставляет браузер пересчитать размеры элементов списка и поставить маркеры на место.</p>

<p>Живой пример:</p>

<figure>
    <p data-height="600" data-theme-id="16915" data-slug-hash="PmQMby" data-default-tab="result" data-user="paulradzkov" data-embed-version="2" data-pen-title="2013-lists-and-floats" class="codepen">See the Pen <a href="https://codepen.io/paulradzkov/pen/PmQMby/">2013-lists-and-floats</a> by Paul Radzkov (<a href="http://codepen.io/paulradzkov">@paulradzkov</a>) on <a href="http://codepen.io">CodePen</a>.</p>
    <script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>
</figure>
    </article>
    <div class="content-width allpage--article-footer">
        <div class="row row-between-xs row-center-xs">
            <div class="col-xs-12 col-sm-shrink col-zero-gutter">
                <footer class="allpage--footer page-footer content-width copyright">
	<p class="space-out-bottom-mili-xs">
		© Павел Радьков
		
			2013.
		
        <br>
		
	</p>
</footer>

            </div>
            <div class="col-xs-12 col-sm-shrink col-zero-gutter">
                <div class="likely-container content-width">
    
    <div class="likely" data-url="https://furye.ru/2013/lists_and_floats/">
    
        <div class="facebook" tabindex="0" role="link" aria-label="Поделиться в Фейсбуке">Поделиться</div>
        <div class="twitter" tabindex="0" role="link" aria-label="Поделиться в Твиттере" data-via="paul_radzkov">Твитнуть</div>
        <div class="vkontakte" tabindex="0" role="link" aria-label="Поделиться в Контакте">Поделиться</div>
        <div class="telegram" tabindex="0" role="link" aria-label="Поделиться в Телеграме">Телеграфировать</div>
    </div>
</div>

            </div>
        </div>
    </div>
    <div class="disqus-wrapper">
        <article id="disqus_thread" class="disqus-container">
            <noscript>Включите Javascript, чтобы увидеть комментарии.</noscript>
        </article>
    </div>
    
    <nav class="navigation row">
    
        <section class="col-xs-min navigation-item inactive">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Tue Jul 04 2017 05:00:00 GMT+0500 (Екатеринбург, стандартное время)">04 июля 2017</time></li>
            </ul>
            <p><a href="/2017/local_variables/">Как правильно использовать переменные в препроцессорах Less и Sass</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive faq code-review">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Sat Feb 13 2016 05:00:00 GMT+0500 (Екатеринбург, стандартное время)">13 февраля 2016</time></li>
            </ul>
            <p><a href="/2016/code_review/">Как верстальщику получить код ревью</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive fonts typography">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Fri May 02 2014 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">02 мая 2014</time></li>
            </ul>
            <p><a href="/2014/web-fonts_license/">Веб-лицензии для платных шрифтов могут стоить вам дорого</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive fonts typography">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Thu May 01 2014 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">01 мая 2014</time></li>
            </ul>
            <p><a href="/2014/free_substitution_for_helvetica_neue/">Бесплатная замена платному Helvetica Neue</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive docpad github-pages">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Fri Apr 25 2014 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">25 апреля 2014</time></li>
            </ul>
            <p><a href="/2014/deploy_docpad_site_to_github_pages/">Деплой Docpad-сайта на GitHub Pages</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive tools markdown">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Mon Apr 07 2014 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">07 апреля 2014</time></li>
            </ul>
            <p><a href="/2014/markdown_cheatsheet/">Краткое руководство по Маркдауну</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive people">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Mon Feb 10 2014 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">10 февраля 2014</time></li>
            </ul>
            <p><a href="/2014/designer-superstar/">О каких дизайнерах мечтают верстальщики</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive tools">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Sun Feb 09 2014 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">09 февраля 2014</time></li>
            </ul>
            <p><a href="/2014/capture_screen_to_gif/">Захват экрана в GIF</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive css typography">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Thu Feb 06 2014 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">06 февраля 2014</time></li>
            </ul>
            <p><a href="/2014/font-weight_bolder/">Font-weight: bolder для шрифтов со множеством начертаний</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive html usability">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Tue Feb 04 2014 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">04 февраля 2014</time></li>
            </ul>
            <p><a href="/2014/mailto_parameters/">Параметры subject и body в mailto ссылках</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive css">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Sun Jan 26 2014 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">26 января 2014</time></li>
            </ul>
            <p><a href="/2014/visited_link_on_hover/">Посещённая ссылка при наведении</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive css">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Sun Jan 19 2014 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">19 января 2014</time></li>
            </ul>
            <p><a href="/2014/negation_css_selector/">CSS-селектор :not. Полезные примеры</a></p>
        </section>
    
        <section class="col-xs-min navigation-item active css typography">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Thu Jan 24 2013 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">24 января 2013</time></li>
            </ul>
            <p><a href="/2013/lists_and_floats/">Списки и картинки с флоатами</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive css progressive-enhancement">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Sun Dec 09 2012 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">09 декабря 2012</time></li>
            </ul>
            <p><a href="/2012/pointer-events/">Pointer-events</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive Chrome">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Tue Nov 27 2012 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">27 ноября 2012</time></li>
            </ul>
            <p><a href="/2012/chrome_dev_tools/">Как отключить javascript в Google Chrome</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive svg css">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Sun Oct 28 2012 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">28 октября 2012</time></li>
            </ul>
            <p><a href="/2012/crosswise/">Перечёркивание крест-накрест</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive tools">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Sun Apr 08 2012 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">08 апреля 2012</time></li>
            </ul>
            <p><a href="/2012/mobile_developing/">Отладка мобильных сайтов в Webkit. Инспектор кода на мобильных устройствах</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive photoshop">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Sun Mar 18 2012 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">18 марта 2012</time></li>
            </ul>
            <p><a href="/2012/photoshop_next_and_previous_layer/">Горячие клавиши для выбора предыдущего и следующего слоя в Photoshop</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive css">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Sun Mar 11 2012 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">11 марта 2012</time></li>
            </ul>
            <p><a href="/2012/html-entities_and_utf_codes/">HTML-сущности и их UTF-коды</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive photoshop">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Wed Feb 22 2012 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">22 февраля 2012</time></li>
            </ul>
            <p><a href="/2012/photoshop_new_layer_based_slice/">Нарезка в Photoshop — New Layer Based Slice</a></p>
        </section>
    
        <section class="col-xs-min navigation-item inactive css">
            <ul class="meta-data meta-data-badge">
                <li class="date"><time datetime="Sun Feb 12 2012 06:00:00 GMT+0600 (Екатеринбург, стандартное время)">12 февраля 2012</time></li>
            </ul>
            <p><a href="/2012/autocomplete/">Как перекрасить поля с автозаполнением в Google Chrome</a></p>
        </section>
    
</nav>

        <script src="/vendor/modernizr.js"></script>
    <script src="/vendor/jquery/jquery.min.js"></script>
    <script src="/js/article.min.js"></script>

        
    
    <script defer="defer" src="/js/output.min.js"></script>

    
    <script>var disqus_config=function(){this.page.url="https://furye.ru/2013/lists_and_floats/",this.page.identifier="lists-and-floats"};!function(){var t=document,e=t.createElement("script");e.src="https://paulradzkov.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script>


    
<script type="text/javascript">!function(t,e,a){(e[a]=e[a]||[]).push(function(){try{e.yaCounter22878469=new Ya.Metrika({id:22878469,webvisor:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0})}catch(t){}});function c(){n.parentNode.insertBefore(r,n)}var n=t.getElementsByTagName("script")[0],r=t.createElement("script");r.type="text/javascript",r.async=!0,r.src=("https:"==t.location.protocol?"https:":"http:")+"//mc.yandex.ru/metrika/watch.js","[object Opera]"==e.opera?t.addEventListener("DOMContentLoaded",c,!1):c()}(document,window,"yandex_metrika_callbacks")</script>
<noscript><div><img src="//mc.yandex.ru/watch/22878469" style="position:absolute; left:-1px;" alt=""></div></noscript>


    <script src="/ui/offline/offline.min.js"></script>

</body>
</html>
